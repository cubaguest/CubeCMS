function vveShowMessages(a){clearInfoMsg();if(typeof(a.infomsg)=="object"){for(var b=0;b<a.infomsg.length;b++){infoMsg(a.infomsg[b],false)}}else{if(typeof(a.infomsg)=="string"){infoMsg(a.infomsg)}}clearErrMsg();if(typeof(a.errmsg)=="object"){for(var c=0;c<a.errmsg.length;c++){errMsg(a.errmsg[c],false)}}else{if(typeof(a.infomsg)=="string"){errMsg(a.errmsg)}}}function infoMsg(b,a){if(b==null){return}if(typeof(a)=="undefined"){a=true}if(a==true){clearInfoMsg()}$("#infoMessages").prepend("<p>"+b+"</p>").show()}function clearInfoMsg(){$("#infoMessages").html(null).hide()}function clearErrMsg(){$("#errMessages").html(null).hide()}function errMsg(b,a){if(b==null){return}if(typeof(a)=="undefined"){a=true}if(a==true){$("#errMessages").html(null)}$("#errMessages").prepend("<p>"+b+"</p>").show()}function showLoadBox(c,e){if(typeof(e)=="undefined"){e=5000}var d=$(c);var b=$(c).parent("div,p");var a=$('<div id="loadingBox"><div class="loader-w"><span class="loader-text">loading...</span></div>').css({position:"absolute",top:0,left:0,opacity:0,width:d.width()+parseInt(b.css("padding-left"))+parseInt(b.css("padding-right"))+parseInt(d.css("margin-left"))+parseInt(d.css("margin-right")),height:d.height()+parseInt(b.css("padding-top"))+parseInt(b.css("padding-bottom"))+parseInt(d.css("margin-top"))+parseInt(d.css("margin-bottom"))});b.css("position","relative").prepend(a.hide());b.children("#loadingBox").fadeTo(500,1);setTimeout("hideLoadBox()",e)}function hideLoadBox(){$("#loadingBox").fadeOut(500,function(){$("#loadingBox").remove()})}function vveLoadImage(b,c){var a=document.createElement("img");a.onload=function(){if($.isFunction(c)){c.call(a)}};a.src=b}function initToolboxEvents(){var a=$("a.toolbox-button");$("div.toolbox-temp").remove();$("div.toolbox").parent("div").css({position:"relative"});$(".toolbox-tool").hover(function(){$(this).addClass("ui-state-highlight");$(this).find("input").addClass("ui-state-highlight")},function(){$(this).removeClass("ui-state-highlight");$(this).find("input").removeClass("ui-state-highlight")});a.hover(function(){$(this).css({"z-index":3});$(this).next("div.toolbox").trigger("showToolbox",[$(this)])},function(){$(this).css({"z-index":10000})});$("div.toolbox").bind("showToolbox",function(c,d){d.parent().addClass("toolbox-active-content");var e=$(this).attr("id")+"-copy";var b;if($("#"+e).length==0){b=$(this).clone(true).attr("id",e).addClass("toolbox-temp");$("body").append(b);b.bind("mouseleave",function(){$(".toolbox-active-content").removeClass("toolbox-active-content");$(this).animate({opacity:0},0,function(){$(this).css({"z-index":-10000}).hide()})})}else{b=$("#"+e)}b.css({opacity:1,top:d.offset().top-2,left:d.offset().left-b.width()+22,width:b.width(),"z-index":10000}).show()});$(document).unbind("scroll");if(typeof document.toolboxTop=="undefined"){document.toolboxTop=30}$(document).scroll(function(){var b=$(this).scrollTop();a.each(function(){var c=$(this).parent();if(c.offset().top<b+document.toolboxTop&&b<c.offset().top+c.height()-document.toolboxTop){$(this).css({position:"fixed",top:document.toolboxTop,left:$(this).offset().left})}else{$(this).css({position:"absolute",top:1,right:1,left:"auto"})}})})}function str2url(d,b,a){d=d.toUpperCase();d=d.toLowerCase();d=d.replace(/[\u0105\u0104\u00E0\u00E1\u00E2\u00E3\u00E4\u00E5]/g,"a");d=d.replace(/[\u00E7\u010D\u0107\u0106]/g,"c");d=d.replace(/[\u010F]/g,"d");d=d.replace(/[\u00E8\u00E9\u00EA\u00EB\u011B\u0119\u0118]/g,"e");d=d.replace(/[\u00EC\u00ED\u00EE\u00EF]/g,"i");d=d.replace(/[\u0142\u0141]/g,"l");d=d.replace(/[\u00F1\u0148]/g,"n");d=d.replace(/[\u00F2\u00F3\u00F4\u00F5\u00F6\u00F8\u00D3]/g,"o");d=d.replace(/[\u0159]/g,"r");d=d.replace(/[\u015B\u015A\u0161]/g,"s");d=d.replace(/[\u00DF]/g,"ss");d=d.replace(/[\u0165]/g,"t");d=d.replace(/[\u00F9\u00FA\u00FB\u00FC\u016F]/g,"u");d=d.replace(/[\u00FD\u00FF]/g,"y");d=d.replace(/[\u017C\u017A\u017B\u0179\u017E]/g,"z");d=d.replace(/[\u00E6]/g,"ae");d=d.replace(/[\u0153]/g,"oe");d=d.replace(/[\u013E\u013A]/g,"l");d=d.replace(/[\u0155]/g,"r");d=d.replace(/[^a-z0-9\s\'\:\/\[\]-]/g,"");d=d.replace(/[\s\'\:\/\[\]-]+/g," ");d=d.replace(/[ ]/g,"-");d=d.replace(/[\/]/g,"-");if(a==1){var e=d.charAt(0);d=e.toUpperCase()+d.slice(1)}return d}function vveCheckUrlKey(a,c,f,d){var b=$(c);var e={key:b.val(),lang:b.attr("lang")};if(typeof d!="undefined"){$.extend(e,d)}$.ajax({type:"POST",url:a,data:e,cache:false,success:function(g){if((f||f!="")&&(typeof f!=="undefined")){if(typeof g.urlkey!=="undefined"){f(g.urlkey)}else{f(null)}}}})}$(document).ready(function(){$(".form-link-lang-container a.form-link-lang").live("click",function(b,a){if(typeof a=="undefined"){a=true}var e=this.lang;$(this).parent("p").find("a").removeClass("form-link-lang-sel");$(this).addClass("form-link-lang-sel");var d=$(this).closest("*:has(p[lang])");$("p[lang]",d).hide();var c=$('p[lang="'+e+'"]',d).show();if(a){c.find("input,textarea,select").focus()}d=$(this).closest("*:has(label[lang])")[0];$("label[lang]",d).hide();$('label[lang="'+e+'"]',d).show();return false});if(typeof document.primaryLang!=="undefined"){$('.form-link-lang-container a[lang="'+document.primaryLang+'"]').trigger("click",[false])}else{$('.form-link-lang-container a[lang="'+document.lang+'"]').trigger("click",[false])}initToolboxEvents();$(".link-external").live("click",function(){window.open(this.href);return false});$("a.toolbox-changelang-button").live("click",function(){showLoadBox(".main-content");$(".main-content").load(this.href,function(){hideLoadBox();initToolboxEvents();$(document).scroll()});return false});if($.browser.msie){$("[placeholder]").focus(function(){var a=$(this);if(a.val()==a.attr("placeholder")){a.val("");a.removeClass("placeholder")}}).blur(function(){var a=$(this);if(a.val()==""||a.val()==a.attr("placeholder")){a.addClass("placeholder");a.val(a.attr("placeholder"))}}).blur();$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var a=$(this);if(a.val()==a.attr("placeholder")){a.val("")}})})}});