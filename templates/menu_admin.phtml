<?
// funkce pro render menu
function vveAdminMenuRenderFunc(SimpleXMLElement $menuArr, $link, $ulParam) {
   echo ("<ul ".$ulParam.">\n");
   foreach ($menuArr as $key => $item) {
      if(isset($item['type']) && $item['type'] == 'user'){
         echo ("<li class=\"adminmenu-user-item\">");
      } else if(isset($item['type']) && $item['type'] == 'shop'){
         echo ("<li class=\"adminmenu-shop-item\">");
      } else {
         echo ("<li>");
      }
      $name = $item->xpath('name[@lang="cs"]');
      $name = $name[0];

      $urlkey = $item->xpath('urlkey[@lang="cs"]');
      if($urlkey != false){
         $urlkey = $urlkey[0];
      }
      if($key == 'section') {
         echo ('<a href="#">'.$name.'</a>'."");
         vveAdminMenuRenderFunc($item->item, $link, null);
      } else {
         echo ('<a href="'.$link->clear()->category($urlkey).'">'.$name.'</a>'."");
      }
      echo ("</li>\n");
   }
   echo ("</ul>\n");
}
?>
<!-- Halvni menu sekce v menu  -->
<div id="adminMenuWrapper">
   <?=vveAdminMenuRenderFunc($this->menu, $this->link(), 'class="dropdown"')?>
   <?if(class_exists("QuickTools_View")){ QuickTools_View::renderTools();}?>
</div>
